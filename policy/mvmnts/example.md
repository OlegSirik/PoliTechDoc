# Example

Метод предназначен для фомирования json запроса для предрасчета и для создания договора.
Запрос можно сформировать дял любой версии договора.

Структура документа не зависит от настроек и состоит из
1. Шапки договора
2. Страхователя
3. Объекта страхования
4. Списка покрытий

Сначала заполняется шапка договора.
Заполняется код продукта. Версия не может быть указана, берется всегда ткущая.
Далее заполняются даты. 
В зависимости от типа валижации дат возможно, что нужно передать даты нача, дату окончания, период ожидания, период страхования и вообще ничего, если фикса и нет выбора.

## Страхователь.
Страхователь может быть физ лицом, юр лицом или комби.
Набор объектов и атрибутов страхователя определяется по таблице vars. Если атрибут присутсвует там, то он попадает в запрос.

## Объект страхования
Обязательный атрибут io_type
Остальное формируется так же, как и для страхователя. По таблице varrs

## Фронт
После окрытия страницы фронта, запрашивается шаблон договора для создания договора.
Далее в зависимости от наличия\отсутствия атрибута в запросе поля ввода гасятся.
При вызове расчета, создания договора заполняется полученный шалон, данными с фронта и этот договор уходит в метод расчета\создания.
